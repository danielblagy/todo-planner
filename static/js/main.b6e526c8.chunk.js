(this["webpackJsonptodo-planner"]=this["webpackJsonptodo-planner"]||[]).push([[0],{19:function(e,t,o){},25:function(e,t,o){"use strict";o.r(t);var n=o(1),a=o.n(n),c=o(5),r=o.n(c),s=(o(19),o(3)),i=o(4),l=o(6),d=o(27),u=o(10),j=o(8),b=o(14),g=o(2);var O=function(e){var t=e.todo,o=e.toggleTodo,a=e.deleteTodo,c=e.editTodo,r=e.index,s=Object(n.useRef)();function l(){o(t.id)}function d(){a(t.id)}function O(){c(t.id,s.current.value)}var f={color:"gray",textDecoration:"line-through",border:"none",borderColor:"transparent"};return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(j.b,{draggableId:t.id,index:r,children:function(e){return Object(g.jsxs)("p",Object(i.a)(Object(i.a)(Object(i.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(g.jsx)(b.a,{}),Object(g.jsx)("input",{type:"checkbox",checked:!!t.complete,onChange:l}),Object(g.jsx)("input",{ref:s,type:"text",style:t.complete?f:{border:"none",borderColor:"transparent"},defaultValue:t.name,onChange:O}),Object(g.jsx)(u.b,{onClick:d,style:{cursor:"pointer"}})]}))}},t.id)})};var f=function(e){var t=e.title,o=e.todos,a=e.setTodos,c=e.storageKey;Object(n.useEffect)((function(){localStorage.setItem(c,JSON.stringify(o)),console.log("todolist update")}),[c,o]);var r=Object(n.useRef)();function b(e){var t=Object(l.a)(o),n=t.find((function(t){return t.id===e}));n.complete=!n.complete,a(t)}function f(e){var t=Object(l.a)(o),n=t.findIndex((function(t){return t.id===e}));t.splice(n,1),a(t)}function p(e,t){if(""!==t){var n=Object(l.a)(o);n.find((function(t){return t.id===e})).name=t,a(n)}}return Object(g.jsxs)("div",{className:"TodoList",children:[Object(g.jsx)("h2",{children:t}),Object(g.jsx)(j.a,{onDragEnd:function(e){if(e.destination){var t=Object(l.a)(o),n=t.splice(e.source.index,1),c=Object(s.a)(n,1)[0];t.splice(e.destination.index,0,c),a(t)}},children:Object(g.jsx)(j.c,{droppableId:"todos",children:function(e){return Object(g.jsxs)("div",Object(i.a)(Object(i.a)({className:"todos"},e.droppableProps),{},{ref:e.innerRef,children:[o.map((function(e,t){return Object(g.jsx)(O,{todo:e,toggleTodo:b,deleteTodo:f,editTodo:p,index:t},e.id)})),e.placeholder]}))}})}),Object(g.jsx)("input",{ref:r,type:"text"}),Object(g.jsx)(u.a,{onClick:function(e){var t=r.current.value;""!==t&&(a((function(e){return[].concat(Object(l.a)(e),[{id:Object(d.a)(),name:t,complete:!1}])})),r.current.value=null)},style:{cursor:"pointer"}})]})},p="todo_planner.yesterday_todos",x="todo_planner.today_todos",m="todo_planner.tomorrow_todos",h="todo_planner.last_day";var v=function(){var e=Object(n.useState)((function(){var e=JSON.parse(localStorage.getItem(p));return e||[]})),t=Object(s.a)(e,2),o=t[0],a=t[1],c=Object(n.useState)((function(){var e=JSON.parse(localStorage.getItem(x));return e||[]})),r=Object(s.a)(c,2),i=r[0],l=r[1],d=Object(n.useState)((function(){var e=JSON.parse(localStorage.getItem(m));return e||[]})),u=Object(s.a)(d,2),j=u[0],b=u[1],O=Object(n.useState)(new Date),v=Object(s.a)(O,2),y=v[0],S=v[1],D={year:"2-digit",month:"numeric",day:"numeric"},T=Object(n.useState)(""),w=Object(s.a)(T,2),I=w[0],C=w[1],N=Object(n.useState)(""),J=Object(s.a)(N,2),_=J[0],F=J[1],k=Object(n.useState)(""),L=Object(s.a)(k,2),E=L[0],P=L[1];return Object(n.useEffect)((function(){function e(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}console.log("lastDay init"),console.log(o),console.log(i),console.log(j);var t,n,c=new Date(JSON.parse(localStorage.getItem(h))),r=new Date;c&&(console.log(c),console.log(y),e(r,c)?console.log("same day"):(t=new Date(c),n=r,t.setDate(t.getDate()+1),e(t,n)?(a(i),l(j),b([]),console.log("next day")):!function(t,o){return t.setDate(t.getDate()+2),e(t,o)}(new Date(c),r)?(a([]),l([]),b([]),console.log("long time ago")):(a(j),l([]),b([]),console.log("day after next")))),S(r);var s=new Date(r);s.setDate(s.getDate()-1);var d=new Date(r);d.setDate(d.getDate()+1),C("Yesterday "+s.toLocaleDateString("en-US",D)),F("Today "+r.toLocaleDateString("en-US",D)),P("Tomorrow "+d.toLocaleDateString("en-US",D))}),[]),Object(n.useEffect)((function(){console.log("lastDay change"),localStorage.setItem(h,JSON.stringify(y))}),[y]),Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(f,{title:I,todos:o,setTodos:a,storageKey:p}),Object(g.jsx)(f,{title:_,todos:i,setTodos:l,storageKey:x}),Object(g.jsx)(f,{title:E,todos:j,setTodos:b,storageKey:m})]})},y=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,28)).then((function(t){var o=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;o(e),n(e),a(e),c(e),r(e)}))};r.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(v,{})}),document.getElementById("root")),y()}},[[25,1,2]]]);
//# sourceMappingURL=main.b6e526c8.chunk.js.map